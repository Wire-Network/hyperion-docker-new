services:
  wire-node:
    container_name: wire-node
    build: ./wire
    image: wire-node
    volumes:
      - ./wire/data/:/nodeos/wire/data/ 
      - ./wire/config/:/nodeos/wire/config/
    ports:
      - "8888:8888"  # External port for HTTP API requests
      - "8080:8080"  # External port for state history plugin API
      - "4444:4444"  # Mapped P2P network port
      - "4443:4443"  # Additional mapped port for other services
    networks:
      - hyperion
    command: nodeos --genesis-json /nodeos/wire/config/genesis.json --disable-replay-opts --data-dir /nodeos/wire/data --config-dir /nodeos/wire/config # Command to run nodeos

networks:
  hyperion:
    external: true